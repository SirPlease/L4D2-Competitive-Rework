# **L4D2 Competitive Rework**

<== IMPORTANT NOTICE DON'T IGNORE THIS OKAY?! ===>  
<------------------ **LINUX SUPPORT ONLY** ------------------>  
< This means Windows is not Supported, so don't ask~ :smile: >

## **About:**

This is mainly a project that focuses on reworking the very outdated platform for competitive L4D2 for **Linux** Servers.
It will contain both much needed fixes that are simply unable to be implemented on the older sourcemod versions as well as incompatible and outdated files being updated to working versions.
Issues and Discussions can be held both on Github and on our [Steam Group](https://steamcommunity.com/groups/srv_rework)

> **Test Server Specifications:**
* **OS:** Ubuntu 64Bit (18.04)
* **EU IP:** 149.202.88.193:27030 (High Performance, can play 8 player games on)
* **US IP:** 108.61.158.18:27015  (Low to Medium Performance, can't promise "playable" Games)
* **Sourcemod:** 1.9 (6281)
* **Metamod:** 1.11 (1127)
* **Stripper Source:** 1.2.2 (hg82)

> **Included & Working Matchmodes:**
* **Zonemod 1.9.4**
* **NextMod 1.0.3**
* **Promod Elite 1.1**
* **Equilibrium 3.0c**
* **Apex 1.1.2**

---

## **Important Updated/Added Extensions**
* [Left4Downtown](https://github.com/Attano/Left4Downtown2)
  * Required for Latest Sourcemod versions.
* [Modified DHooks](https://github.com/XutaxKamay/dhooks/releases/tag/v2.2.1b)
  * Required for [Bullet Displacement Fix](https://forums.alliedmods.net/showthread.php?t=315405)
	
---

## **Fixes/Changes Integrated into Confogl & Sourcemod:**

> **Plugins/Extensions**
* [Bullet Displacement Fix](https://forums.alliedmods.net/showthread.php?t=315405)
  * Fixes a Source Engine bug that causes bullets to miss targets that they were supposed to hit.
* [L4D2 Changelevel](https://github.com/LuxLuma/Left-4-fix/tree/master/left%204%20fix/l4d2_levelchanging)
  * Resolves memory leaks caused by forced map changes when either using Sourcemod's **!map**, **!votemap**, and Confogl's matchmode loading/unloading.
    * This means you no longer have to restart your Servers after every game to ensure the Servers are on their peak performance.
* [Tank Rock Lag Compensation](https://forums.alliedmods.net/showthread.php?p=2646073)
  * Like the title says, you now simply just aim at the rock. You no longer have to "lead" your shots.
* [Buffer Overflow Fix](https://forums.alliedmods.net/showthread.php?p=2607757)
  * Prevents large .cfg files from causing a Buffer Overflow.
* Tank Hittable Glow.
  * This plugin adds a constant Glow to Hittables the Tank has punched.
    * This is such a big QoL Fix and is implemented so smoothly that people often think it's part of the game, why not load it in every config?
* Tons of Jockey Fixes:
  * Fixed Jockeys and Chargers from capping the same Survivors at the same time.
  * Fixed jockeyed Survivors going down ladders slowly.
  * Fixed an issue where Survivors could selfclear themselves by just spamming M2 while holding a melee (while being jockeyed)
  * Fixed an issue that allowed Jockeys to be able to pounce Survivors when spamming jump while their ability isn't ready and/or just got shoved.
* L4D2 Ghost Anti-Cheat: A safe plugin that prevents 3rd party programs from being able to lock and see Infected Ghosts.
* Shadow Fix: This prevents shadows showing through buildings, which would allow Survivors to know exactly where an infected was.


> **Additional Fixes:**
* Added "**mv_maxplayers**" that replaces sv_maxplayers in the Server.cfg, this is used to prevent it from being overwritten every map change.
  * On config unload, the value will be to the value used in the Server.cfg
* Fixed **!forcematch** causing the Server to crash if a custom builtinvote was currently active.
* Fixed players being able to duplicate Survivors by using "**jointeam charactername**" when it was already taken.
* Fixed the **playermanagement** plugin causing issues with creating bots and leaving the server full with bots called "k9Q6CK42".
  * This version is fully compatible with Zonemod 1.9.4's Spawn Order Fix and is loaded by default in every competitive config.
* Fixed votes taking Spectators into account.
* Fixed a memory leak caused by server-side Scripts (Mainly Plugins).
* Cleaned up Console spam generated by the Server.
* Cleaned up Chat by adding toggle-able settings to prevent certain messages that clutter chat:
  * Server ConVars being set.
  * Name Changes. (By default hide Spectator name changes, still print Survivor/Infected)
  * Comes with a setting that allows Spectators to read Survivor/Infected team chat.
  
> **Configs/ConVars**
* Every Confogl matchmode will now execute 2 additional files, namely "**sharedplugins.cfg**" and "**generalfixes.cfg**" which are located in your **left4dead2/cfg** folder.
  * "**General Fixes**" simply ensures that all the Fixes discussed in here are loaded by every Matchmode.
  * "**Shared Plugins**" is for you, the Server host. You surely have some plugins that you'd like to be loaded in every matchmode, you can define them here. 
    * **NOTE:** Plugin load locking and unlocking is no longer handled by the Configs themselves, so if you're using this project do **NOT** define plugin load locks/unlocks within the configs you're adding manually.
	
## **Credits:**

> **Foundation/Advanced Work:**
* AlliedModders LLC.
* "Confogl Team"
* Dr!fter
* Jahze
* Prodigysim
* Silvers
* XutaxKamay
* Visor

> **Additional Plugins/Extensions:**
* Accelerator74
* Arti 
* AtomicStryker 
* Blade 
* Canadarox 
* CircleSquared 
* Darkid 
* Dcx 
* Die Teetasse 
* Disawar1 
* Don 
* Epilimic 
* Estoopi 
* Griffin 
* Jacob 
* Luckylock 
* Lux
* Powerlord
* Sheo
* Sir
* Stabby 
* Step 
* Tabun
* V10 
* Vintik
* VoiDeD

> **Testing/Issue Reporting:**
* Devilesk (+ Fixing)
* Electr0
* Rena (+ Fixing)
* Eric (+ Fixing)

**NOTE:** If your work is being used and I forgot to credit you, my sincere apologies.  
I've done my best to include everyone on the list, simply create an issue and name the plugin/extension you've made/contributed to and I'll make sure to credit you properly.
